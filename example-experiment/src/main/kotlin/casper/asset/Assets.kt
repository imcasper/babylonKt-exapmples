package casper.asset
/**
 * 	Its file generated by assets.py
 */
import casper.signal.Promise
import casper.signal.PromiseSignal
import casper.signal.PromiseUnion

fun createAssetsArrayLoader(manager: AssetManager): Promise<Assets, String> {
	val result = PromiseSignal<Assets, String>()
	PromiseUnion(
			manager.models.loader("robot_builder.babylon"),
			manager.models.loader("animation.babylon"),
			manager.models.loader("drill.babylon"),
			manager.models.loader("construction_robot.babylon"),
			manager.models.loader("robot_truck.babylon"),
			manager.models.loader("scene.babylon"),
			manager.models.loader("cube.babylon"),
			manager.models.loader("robot_cargo.babylon"),
			manager.models.loader("model.babylon"),
			manager.models.loader("materials.babylon")
	).then({
		try {
			val assets = Assets(manager)
			result.accept(assets)
		}
		catch (t:Throwable) {
			result.reject(t.toString())
		}
	}, {
		result.reject(it.joinToString("\n\n"))
	})
	return result
}

class Assets(manager: AssetManager) {
		val robot_builder = manager.getModel("robot_builder.babylon")!!
		val animation = manager.getModel("animation.babylon")!!
		val drill = manager.getModel("drill.babylon")!!
		val construction_robot = manager.getModel("construction_robot.babylon")!!
		val robot_truck = manager.getModel("robot_truck.babylon")!!
		val scene = manager.getModel("scene.babylon")!!
		val cube = manager.getModel("cube.babylon")!!
		val robot_cargo = manager.getModel("robot_cargo.babylon")!!
		val model = manager.getModel("model.babylon")!!
		val materials = manager.getModel("materials.babylon")!!
}

